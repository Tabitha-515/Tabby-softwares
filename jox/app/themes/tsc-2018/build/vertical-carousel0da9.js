"use strict";var scrollTimeout=1600;jQuery(document).ready(function(n){var e=new Blazy({breakpoints:[{width:420,src:"data-src-small"},{width:768,src:"data-src-medium"},{width:992,src:"data-src-large"}]}),s=function(e){if(!n(".js-main-nav").hasClass("open")){h.hasClass("is-visible")&&h.removeClass("is-visible"),u.unbind("mousewheel");var a=60*-(f=Math.min(Math.max(0,f+e),d.length-1)),o=5*-f;v.css("transform","rotate("+a+"deg)"),setTimeout(l,scrollTimeout),n(".c-vertical-carousel-nav__list").css("transform","rotate("+o+"deg)"),n(".c-vertical-carousel-nav__list a.is-active").removeClass("is-active"),n(".c-vertical-carousel-nav__list a:eq("+f+")").addClass("is-active");var s=n(".c-vertical-carousel-nav__list a:eq("+f+")").attr("data-background-color");n(".c-wormhole-sneak-peak").css("background-color",s),n(".c-wormhole-sneak-peak").attr("class","c-wormhole-sneak-peak"),n(".c-wormhole-sneak-peak").addClass("has-grown-"+f);var t=n(".c-vertical-carousel-nav__list-item a.is-wormhole").data("index");switch(n(".c-vertical-carousel-nav__list-item a.is-wormhole").prop("href","#"+t),n(".c-footer").hasClass("is-visible")&&n(".c-footer").removeClass("is-visible"),f){case 1:document.activeElement.blur();break;case 2:var r=window.scrollX,c=window.scrollY;n(".slick-current.slick-center:eq(0)").focus(),window.scrollTo(r,c);break;case 3:r=window.scrollX,c=window.scrollY;n(".slick-current.slick-center:eq(1)").focus(),window.scrollTo(r,c);break;case 4:var i=n(n(".c-vertical-carousel-nav__list-item a")[f]).data("url");n(n(".c-vertical-carousel-nav__list-item a")[f]).prop("href",i),document.activeElement.blur();break;case 5:n(".c-footer").addClass("is-visible")}}},l=function(){u.off("mousewheel"),u.on("mousewheel",a)},a=function(e,a){s(0<=a?-1:1),e.preventDefault()},o=function(e){switch(e.which){case 38:s(-1);break;case 40:s(1);break;default:return}e.preventDefault()};n(".c-vertical-carousel-nav a").click(function(e){var a=parseInt(n(e.currentTarget).attr("href")[1]);a&&(s(a-f-1),e.preventDefault())});var u=n("body.home"),v=n(".c-vertical-carousel"),d=n(".c-vertical-carousel__slide"),h=n(".js-wormhole-prompt"),f=0;n(".c-vertical-carousel-nav__list a").first().addClass("is-active"),l(),u.off("keydown"),u.on("keydown",o),u.on("touchstart",function(e){var o=e.originalEvent.touches[0].pageY;n(this).one("touchmove",function(e){e.preventDefault();var a=e.originalEvent.touches[0].pageY;10<Math.floor(o-a)?s(1):Math.floor(o-a)<-10&&s(-1)}),u.on("touchend",function(){n(this).off("touchmove")})}),n(".js-no-touch").on("touchstart",function(e){e.originalEvent.touches[0].pageY,e.preventDefault(),n(this).focus(),n(this).one("touchmove",function(e){e.preventDefault()}),n(".js-no-touch").on("touchend",function(){n(this).off("touchmove")})}),h.addClass("is-visible");n(".c-secondary-carousel").find(".c-secondary-carousel__inner").outerWidth();n(".c-secondary-carousel").slick({dots:!0,centerMode:!0,slidesToShow:2,infinite:!1,speed:300,arrows:!1,focusOnSelect:!0,variableWidth:!0,responsive:[{breakpoint:992,settings:{infinite:!1,arrows:!1,centerMode:!1,variableWidth:!1,centerPadding:0,slidesToShow:1}}]}).on("afterChange",function(){e.revalidate()})});